# name: Deploy to Vercel

# on:
#   push:
#     branches: [ "20b_redux_advanced" ] # Replace with the branch you want to deploy from

# jobs:
#   build-and-deploy:
#     runs-on: ubuntu-latest

#     steps:
#     - uses: actions/checkout@v3

#     - name: Use Node.js
#       uses: actions/setup-node@v3
#       with:
#         node-version: '20' # Specify the desired Node.js version

#     - name: Install Dependencies
#       run: npm install

#     - name: Build
#       run: npm run build

#     - name: Deploy to Vercel
#       uses: vercel/vercel-action@v3
#       with:
#         # Your Vercel Token (can be stored as a repository secret)
#         token: ${{ secrets.VERCEL_TOKEN }}
#         # Project ID (obtain from Vercel dashboard) 
#         project-id: ${{ secrets.VERCEL_PROJECT_ID }}

name: GitHub Actions Vercel Preview Deployment For React-Redux
env:
  VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
  VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
on:
  push:
    # branches-ignore:
    #   - main
    branches: [ "20b_redux_advanced" ]
jobs:
  Deploy-Preview:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Vercel CLI
        run: npm install --global vercel@canary
      - name: Pull Vercel Environment Information
        run: vercel pull --yes --environment=preview --token=${{ secrets.VERCEL_TOKEN }}
      - name: Build Project Artifacts
        run: vercel build --token=${{ secrets.VERCEL_TOKEN }}
      - name: Deploy Project Artifacts to Vercel
        run: vercel deploy --prebuilt --token=${{ secrets.VERCEL_TOKEN }}